## 计算机内存分布

一台1MB的计算机在上电后的内存分布情况通常如下：

1. 0x00000-0x003FF: 这个区域是中断向量表，它包含着计算机启动时处理器需要的信息。
2. 0x00400-0x004FF: BIOS数据区，存储系统BIOS程序使用的一些数据。
3. 0x00500-0x07BFF: 这个区域是系统的低端内存区，也称为常规内存区或Conventional Memory，大部分操作系统和应用程序都会在这个区域中运行。
4. 0x07C00-0x07DFF: 引导扇区（boot sector）存储引导加载程序，这是计算机上电后第一个要执行的程序。
5. 0x07E00-0x9FFFF: 这个区域是系统的扩展内存区，也称为高端内存区或Extended Memory，这个区域可以用来存储大型应用程序和操作系统。
6. 0xA0000-0xBFFFF: 显存区域，存储显示适配器使用的内存。
7. 0xC0000-0xC7FFF: BIOS区域，存储系统BIOS程序的代码。
8. 0xC8000-0xCFFFF: 扩展BIOS数据区，存储系统BIOS程序使用的一些数据。
9. 0xD0000-0xDFFFF: 扩展显存区域，存储显示适配器使用的内存。
10. 0xE0000-0xFFFFF: 扩展BIOS区域，存储系统BIOS程序的代码。


## 获取内存信息

>在启动分页机制之前，我们要设置页目录和页表信息，理论上，我们利用一页内存(4k)来存放页目录，用1k页(4M)来存放页表，可以表示4G的内存。但是我们的内存不一定就是固定4G的，可能是1G，512MB或者更小，而且除了要知道内存容量的大小，我们更想知道各段内存地址的type，因为编程时，属性为reserved的段不能被程序分配使用。
>
>基于以上问题，我们在启动分页机制之前，利用0E820h int 15h 中断获取内存信息，以便进行有效合理的设置。因为是利用BIOS中断，所以要在进入保护模式之前调用，因为进入保护模式后中断向量表会被重新设置。

